## 一、MQ

### 1.同步调用

- 拓展性差
- 性能差

> 支付模块

> > 用户服务
> >
> > 交易服务 ===》报错
> >
> > 通知服务===》连续报错
> >
> > 积分服务===》连续报错

#### **优点：**

**时效性强，等待到结果之后才返回**

### 2.异步调用

![image-20240317221259045](https://cdncode.oss-cn-beijing.aliyuncs.com/test/202403172213131.png)

#### 优势：

**1.解除解耦，拓展性强**

**2.无需等待，性能好**

**3.故障隔离**

**4.缓存消息，流量削峰填谷**

#### 问题：

**不能得到调用结果，时效性差**

**不确定下游，是否执行成功**

**业务依赖于Broker(消息代理)的可靠性**

## 二、Rabbit_Mq [消息队列] ：先进先出

### 1.Rabbit的安装

### 2.RabbitMq的使用

- publisher ：消息发送者
- consumer： 消息接受者
- queue :  队列 存储消息
- exchange : 交换机，负责路由消息
- virtual - host : 虚拟主机，起到数据隔离的作用

![image-20240317223901412](https://cdncode.oss-cn-beijing.aliyuncs.com/test/202403172239607.png)















 



